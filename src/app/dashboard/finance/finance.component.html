<div class="login-container">
  <div class="login-card">
    <!-- Template-driven form with ngForm -->
    <form #loginForm="ngForm" (ngSubmit)="onSubmit()" novalidate>
      <h2>Login Finance</h2>

      <!-- Email Field -->
      <div class="form-group">
        <label for="email">Email</label>
        <input type="email" id="email" name="email"
               [(ngModel)]="user.email"
               #email="ngModel" required email
               placeholder="e.g. user@example.com"
               aria-required="true"
               [attr.aria-invalid]="email.invalid && (email.dirty || email.touched)"
               [attr.aria-describedby]="email.invalid ? 'emailError' : null" />
        <!-- Validation error messages for email -->
        <div class="error-message" *ngIf="email.invalid && (email.dirty || email.touched)">
          <small id="emailError" *ngIf="email.errors?.['required']">Email is required.</small>
          <small *ngIf="email.errors?.['email'] && !email.errors?.['required']">
            Please enter a valid email address.
          </small>
        </div>
      </div>

      <!-- Password Field with toggle -->
      <div class="form-group password-group">
        <label for="password">Password</label>
        <div class="password-container">
          <input [type]="showPassword ? 'text' : 'password'"
                 id="password" name="password"
                 [(ngModel)]="user.password"
                 #password="ngModel" required minlength="6"
                 placeholder="Enter your password"
                 aria-required="true"
                 [attr.aria-invalid]="password.invalid && (password.dirty || password.touched)"
                 [attr.aria-describedby]="password.invalid ? 'passwordError' : null" />
          <!-- Toggle visibility button (eye icon) -->
          <button type="button" class="toggle-password-btn"
                  (click)="showPassword = !showPassword"
                  aria-label="Toggle password visibility"
                  [attr.aria-pressed]="showPassword">
            <!-- Show eye icon when password is hidden -->
            <svg *ngIf="!showPassword" xmlns="http://www.w3.org/2000/svg"
                 width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
              <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8ZM1.173
                       8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8
                       3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828
                       8q-.086.13-.195.288c-.335.48-.83 1.12-1.465
                       1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13
                       13 0 0 1 1.172 8Z"/>
              <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5ZM4.5
                       8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0Z"/>
            </svg>
            <!-- Show eye-slash icon when password is visible -->
            <svg *ngIf="showPassword" xmlns="http://www.w3.org/2000/svg"
                 width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
              <path d="M13.359 11.238C15.06 9.72 16 8 16
                       8s-3-5.5-8-5.5a7 7 0 0 0-2.79.588l.77.771A6 6 0 0 1 8
                       3.5c2.12 0 3.879 1.168 5.168 2.457A13 13 0 0 1 14.828
                       8q-.086.13-.195.288c-.335.48-.83 1.12-1.465
                       1.755q-.247.248-.517.486z"/>
              <path d="M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5
                       2.5 0 0 1 2.829 2.829zM8.354 10.475l.822.822a3.5
                       3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829
                       2.829z"/>
              <path d="M3.35 5.47q-.27.24-.518.487A13 13 0 0 0 1.172
                       8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332
                       5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7
                       7 0 0 1 8 13.5c-5 0-8-5.5-8-5.5s.939-1.721
                       2.641-3.238l.708.709zM13.646 14.354l-12-12 .708-.708
                       12 12-.708.708z"/>
            </svg>
          </button>
        </div>
        <!-- Validation error messages for password -->
        <div class="error-message" *ngIf="password.invalid && (password.dirty || password.touched)">
          <small id="passwordError" *ngIf="password.errors?.['required']">Password is required.</small>
          <small *ngIf="password.errors?.['minlength'] && !password.errors?.['required']">
            Password must be at least 6 characters.
          </small>
        </div>
      </div>

      <!-- Submit Button -->
      <button type="submit" class="btn-submit" [disabled]="loginForm.invalid">
        Login
      </button>
    </form>
  </div>
</div>
